<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="MFXStok - Basit ve Kullanƒ±≈ülƒ± Stok Takip Sistemi">
    <meta name="theme-color" content="#6366f1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="MFXStok">

    <title>MFXStok - Stok Takip Sistemi</title>

    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">

    <!-- Icons -->
    <link rel="icon" type="image/png" sizes="192x192" href="icons/icon-192.png">
    <link rel="apple-touch-icon" href="icons/icon-192.png">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- App Container -->
    <div id="app" class="app-container">

        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <h1 class="app-title">
                    <span class="logo-icon">üì¶</span>
                    MFXStok
                    <span id="connection-status" class="status-badge offline" title="Baƒülantƒ± Durumu">‚óè</span>
                </h1>
                <div class="header-actions">
                    <button id="theme-toggle" class="icon-btn" aria-label="Tema Deƒüi≈ütir">
                        <span class="theme-icon">üåô</span>
                    </button>
                    <button id="menu-toggle" class="icon-btn" aria-label="Men√º">
                        <span class="menu-icon">‚ò∞</span>
                    </button>
                </div>
            </div>
        </header>

        <!-- Navigation -->
        <nav id="nav-menu" class="nav-menu">
            <button class="nav-item active" data-page="dashboard">
                <span class="nav-icon">üìä</span>
                <span class="nav-label">√ñzet</span>
            </button>
            <button class="nav-item" data-page="products">
                <span class="nav-icon">üì¶</span>
                <span class="nav-label">√úr√ºnler</span>
            </button>
            <button class="nav-item" data-page="transactions">
                <span class="nav-icon">üìù</span>
                <span class="nav-label">Hareketler</span>
            </button>
            <button class="nav-item" data-page="reports">
                <span class="nav-icon">üìà</span>
                <span class="nav-label">Raporlar</span>
            </button>
            <button class="nav-item" data-page="settings">
                <span class="nav-icon">‚öôÔ∏è</span>
                <span class="nav-label">Ayarlar</span>
            </button>
        </nav>

        <!-- Main Content -->
        <main id="main-content" class="main-content">

            <!-- Dashboard Page -->
            <div id="page-dashboard" class="page active">
                <div class="page-header">
                    <h2>Stok √ñzeti</h2>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">üì¶</div>
                        <div class="stat-info">
                            <div class="stat-label">Toplam √úr√ºn</div>
                            <div class="stat-value" id="total-products">0‚Ç¨</div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon">üè¢</div>
                        <div class="stat-info">
                            <div class="stat-label">Depo 1</div>
                            <div class="stat-value" id="warehouse1-stock">0‚Ç¨</div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon">üè≠</div>
                        <div class="stat-info">
                            <div class="stat-label">Depo 2</div>
                            <div class="stat-value" id="warehouse2-stock">0‚Ç¨</div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon">üí∞</div>
                        <div class="stat-info">
                            <div class="stat-label">Bekleyen √ñdeme</div>
                            <div class="stat-value" id="pending-payments">0‚Ç¨</div>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h3>Son Hareketler</h3>
                    <div id="recent-transactions" class="transaction-list">
                        <div class="empty-state">
                            <span class="empty-icon">üì≠</span>
                            <p>Hen√ºz hareket yok</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Products Page -->
            <div id="page-products" class="page">
                <div class="page-header">
                    <h2>√úr√ºnler</h2>
                    <button id="add-product-btn" class="btn btn-primary">
                        <span>‚ûï</span> √úr√ºn Ekle
                    </button>
                </div>

                <div class="search-bar">
                    <input type="text" id="product-search" placeholder="üîç √úr√ºn ara..." class="search-input">
                    <button id="scan-barcode-btn" class="btn btn-secondary">
                        <span>üì∑</span> Barkod Oku
                    </button>
                </div>

                <div id="products-list" class="products-grid">
                    <div class="empty-state">
                        <span class="empty-icon">üì¶</span>
                        <p>Hen√ºz √ºr√ºn yok</p>
                        <button class="btn btn-primary" onclick="document.getElementById('add-product-btn').click()">
                            ƒ∞lk √úr√ºn√º Ekle
                        </button>
                    </div>
                </div>
            </div>

            <!-- Transactions Page -->
            <div id="page-transactions" class="page">
                <div class="page-header">
                    <h2>Hareketler</h2>
                    <button id="add-transaction-btn" class="btn btn-primary">
                        <span>‚ûï</span> Hareket Ekle
                    </button>
                </div>

                <div class="filter-bar">
                    <select id="transaction-filter" class="filter-select">
                        <option value="all">T√ºm√º</option>
                        <option value="entry">Giri≈ü</option>
                        <option value="exit">√áƒ±kƒ±≈ü</option>
                    </select>
                    <select id="warehouse-filter" class="filter-select">
                        <option value="all">T√ºm Depolar</option>
                        <option value="warehouse1">Depo 1</option>
                        <option value="warehouse2">Depo 2</option>
                    </select>
                </div>

                <div id="transactions-list" class="transaction-list">
                    <div class="empty-state">
                        <span class="empty-icon">üìù</span>
                        <p>Hen√ºz hareket yok</p>
                    </div>
                </div>
            </div>

            <!-- Reports Page -->
            <div id="page-reports" class="page">
                <div class="page-header">
                    <h2>Raporlar</h2>
                </div>

                <div class="report-section">
                    <h3>Satƒ±≈ü √ñzeti</h3>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-label">Bug√ºn</div>
                            <div class="stat-value" id="today-sales">0‚Ç¨</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Bu Hafta</div>
                            <div class="stat-value" id="week-sales">0‚Ç¨</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Bu Ay</div>
                            <div class="stat-value" id="month-sales">0‚Ç¨</div>
                        </div>
                    </div>
                </div>

                <div class="report-section">
                    <h3>√ñdeme Durumu</h3>
                    <div id="payment-status" class="payment-status-grid"></div>
                </div>
            </div>

            <!-- Settings Page -->
            <div id="page-settings" class="page">
                <div class="page-header">
                    <h2>Ayarlar</h2>
                </div>

                <div class="settings-section">
                    <h3>Veri Y√∂netimi</h3>
                    <button id="export-data-btn" class="btn btn-secondary full-width">
                        <span>üì•</span> Verileri Dƒ±≈üa Aktar (JSON)
                    </button>
                    <button id="import-data-btn" class="btn btn-secondary full-width">
                        <span>üì§</span> Verileri ƒ∞√ße Aktar
                    </button>
                    <input type="file" id="import-file-input" accept=".json" style="display: none;">
                </div>

                <div class="settings-section">
                    <h3>Uygulama</h3>
                    <div class="setting-item">
                        <span>Karanlƒ±k Mod</span>
                        <label class="toggle-switch">
                            <input type="checkbox" id="dark-mode-toggle">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>Hakkƒ±nda</h3>
                    <p class="about-text">
                        <strong>MFXStok v1.0</strong><br>
                        Basit stok takip sistemi<br>
                        <small>¬© 2026 - Progressive Web App</small>
                    </p>
                </div>
            </div>

        </main>

        <!-- Floating Action Button -->
        <button id="fab" class="fab" aria-label="Hƒ±zlƒ± ƒ∞≈ülem">
            <span class="fab-icon">‚ûï</span>
        </button>

    </div>

    <!-- Modals will be injected here by JavaScript -->
    <div id="modal-container"></div>

    <!-- Toast Notifications -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Barcode Scanner Container -->
    <div id="scanner-container" class="scanner-container hidden">
        <div class="scanner-overlay">
            <div class="scanner-header">
                <h3>Barkod Okuyucu</h3>
                <button id="close-scanner" class="btn-close">‚úï</button>
            </div>
            <div id="scanner-viewport" class="scanner-viewport"></div>
            <div class="scanner-info">
                <p>Barkodu kamera √∂n√ºne getirin</p>
            </div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

    <!-- Scripts -->
    <script src="db.js"></script>
    <script src="components.js"></script>
    <script src="barcode-scanner.js"></script>
    <script src="reports.js"></script>
    <script src="app.js"></script>

    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('service-worker.js')
                    .then(reg => console.log('Service Worker registered:', reg))
                    .catch(err => console.log('Service Worker registration failed:', err));
            });
        }
    </script>
</body>

</html>